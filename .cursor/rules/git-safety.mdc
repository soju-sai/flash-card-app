---
alwaysApply: true
description: Git safety rules to prevent automatic commits and updates
---

# Git Safety Rules - è‡ªå‹•æäº¤èˆ‡æ›´æ–°ç¦æ­¢è¦å‰‡

**CRITICAL**: This project has STRICT rules regarding git operations. The AI assistant MUST follow these rules at all times.

## ğŸš« FORBIDDEN Git Operations (åš´æ ¼ç¦æ­¢çš„ Git æ“ä½œ)

The following git commands are **ABSOLUTELY FORBIDDEN** without explicit user approval:

### 1. Commit Operations (æäº¤æ“ä½œ)
- `git commit` - Any form of committing changes
- `git commit -m` - Committing with message
- `git commit -am` - Add and commit
- `git commit --amend` - Amending commits

### 2. Push/Pull Operations (æ¨é€/æ‹‰å–æ“ä½œ)
- `git push` - Pushing to remote repository
- `git push origin` - Pushing to origin
- `git push --force` - Force pushing
- `git pull` - Pulling from remote
- `git fetch` - Fetching from remote

### 3. Branch Operations (åˆ†æ”¯æ“ä½œ)
- `git merge` - Merging branches
- `git rebase` - Rebasing branches
- `git checkout -b` - Creating new branches
- `git branch -d` - Deleting branches

### 4. Repository State Changes (å€‰åº«ç‹€æ…‹è®Šæ›´)
- `git add .` - Adding all changes to staging
- `git add` - Adding specific files to staging
- `git reset` - Resetting changes
- `git stash` - Stashing changes
- `git cherry-pick` - Cherry picking commits

## âœ… ALLOWED Git Operations (å…è¨±çš„ Git æ“ä½œ)

The following **READ-ONLY** git commands are permitted for information gathering:

### 1. Status and Information (ç‹€æ…‹èˆ‡è³‡è¨ŠæŸ¥è©¢)
- `git status` - Check repository status
- `git log` - View commit history
- `git log --oneline` - View compact commit history
- `git branch` - List branches
- `git branch -a` - List all branches including remote

### 2. Diff and Comparison (å·®ç•°æ¯”è¼ƒ)
- `git diff` - Show differences
- `git diff --cached` - Show staged differences
- `git show` - Show commit details

### 3. Configuration Queries (é…ç½®æŸ¥è©¢)
- `git config --list` - Show git configuration
- `git remote -v` - Show remote repositories

## ğŸ”’ Required User Approval Process (å¿…éœ€çš„ç”¨æˆ¶æ‰¹å‡†æµç¨‹)

Before executing ANY forbidden git operation:

1. **MUST** explicitly ask the user for permission
2. **MUST** explain what the command will do
3. **MUST** wait for explicit user confirmation
4. **MUST** use the exact command the user approves

### Example Approval Request (æ‰¹å‡†è«‹æ±‚ç¯„ä¾‹)

```
I need to commit these changes. The command I want to run is:
git commit -m "feat: add new feature"

This will:
- Create a new commit with the staged changes
- Add the commit message "feat: add new feature"

Do you want me to proceed with this commit? (Yes/No)
```

## âš ï¸ Violation Consequences (é•è¦å¾Œæœ)

If the AI assistant violates these rules:
- **IMMEDIATELY STOP** the current operation
- **EXPLAIN** what rule was violated
- **ASK** for explicit user guidance before proceeding

## ğŸ¯ Best Practices (æœ€ä½³å¯¦è¸)

1. **Always ask before git operations** - åœ¨ git æ“ä½œå‰ç¸½æ˜¯è©¢å•
2. **Use read-only commands freely** - è‡ªç”±ä½¿ç”¨å”¯è®€æŒ‡ä»¤
3. **Explain the impact** - è§£é‡‹æ“ä½œçš„å½±éŸ¿
4. **Get explicit confirmation** - ç²å¾—æ˜ç¢ºç¢ºèª
5. **Respect user decisions** - å°Šé‡ç”¨æˆ¶æ±ºå®š

## ğŸ“ Notes (æ³¨æ„äº‹é …)

- This rule applies to ALL git operations, regardless of the development context
- æ­¤è¦å‰‡é©ç”¨æ–¼æ‰€æœ‰ git æ“ä½œï¼Œç„¡è«–é–‹ç™¼æƒ…å¢ƒå¦‚ä½•
- When in doubt, ask the user first
- æœ‰ç–‘å•æ™‚ï¼Œå…ˆè©¢å•ç”¨æˆ¶
- Safety first, convenience second
- å®‰å…¨ç¬¬ä¸€ï¼Œä¾¿åˆ©ç¬¬äºŒ

Remember: **NEVER execute git commands that modify the repository state without explicit user permission.**
è¨˜ä½ï¼š**æœªç¶“ç”¨æˆ¶æ˜ç¢ºè¨±å¯ï¼Œçµ•ä¸åŸ·è¡Œä¿®æ”¹å€‰åº«ç‹€æ…‹çš„ git æŒ‡ä»¤ã€‚**